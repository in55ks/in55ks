<div id = "object_container" style="width:100%;height:100%">
	
</div>

<script src="https://edwmpt.com/embed/lfcht?c=object_container&site=jasmin&cobrandId=&psid=inskkkk&pstool=320_1&psprogram=pps&campaign_id=&category=girl&forcedPerformers[]=AliceGoldie&vp[showChat]=&vp[chatAutoHide]=&vp[showCallToAction]=true&vp[showPerformerName]=&vp[showPerformerStatus]=&ctaLabelKey=udmn&landingTarget=signup&ms_notrack=1&subAffId={SUBAFFID}">
	
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click Button</title>
</head>
<body>

    <!-- Встраивание пикселя -->
    <script type="text/javascript">
        let clickId = null;

        // Функция для получения параметра из URL
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                  results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Загружаем пиксель и сохраняем Click ID
        !function(){
            var a=document.createElement("script");
            a.type="text/javascript";
            a.async=!0;
            a.src="https://zebix.bemobtrk.com/landing/0c73f30b-8752-4483-8361-1992ad4215d4?callback=REPLACE&rule=REPLACE&path=REPLACE&landing=REPLACE&"+window.location.search.substring(1);
            a.onload = function() {
                // Извлекаем Click ID после загрузки пикселя
                clickId = getParameterByName('cid', a.src);
                console.log('Click ID извлечен:', clickId);
            };
            var b=document.getElementsByTagName("script")[0];
            b.parentNode.insertBefore(a,b);
        }();
    </script>

    <!-- Кнопка -->
    <button id="clickButton">Отправить запрос</button>

    <script>
        // Добавляем обработчик события на клик
        document.getElementById('clickButton').addEventListener('click', () => {
            if (!clickId) {
                console.error('Click ID не был извлечен. Пожалуйста, попробуйте позже.');
                return;
            }

            // Задаем значения для остальных параметров запроса
            const payout = '50';  // Замените на нужное значение, если нужно
            const txid = '78910'; // Замените на нужное значение, если нужно
            const status = 'confirmed'; // Замените на нужное значение, если нужно

            // Формируем URL с параметрами, включая Click ID
            const url = `https://zebix.bemobtrk.com/conversion.txt?cid=${clickId}&payout=${payout}&txid=${txid}&status=${status}`;

            // Отправляем POST запрос
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
            })
            .then(response => response.text())
            .then(data => {
                console.log('Ответ от сервера:', data);
            })
            .catch(error => {
                console.error('Ошибка:', error);
            });
        });
    </script>

</body>
</html>
